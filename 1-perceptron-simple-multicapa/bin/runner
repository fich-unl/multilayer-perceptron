#!/usr/bin/env ruby
$LOAD_PATH.unshift File.expand_path('../../lib', __FILE__)

require 'perceptron'

# Ejercicio 1

or_path = 'or.csv'
csv_or = Perceptor::Csv.new(or_path)

entrenamiento = Perceptor::TrainingPS.new(2, 0.5, 1)

desviacion = 0.05
cantidad = 20
matrixPrueba1 = Perceptor::RandomCustomize.new(desviacion, cantidad, 1.0, 1.0,  nil, 1)
matrixPrueba2 = Perceptor::RandomCustomize.new(desviacion, cantidad, 1.0, -1.0, nil,  1)
matrixPrueba3 = Perceptor::RandomCustomize.new(desviacion, cantidad, -1.0, 1.0, nil,  1)
matrixPrueba4 = Perceptor::RandomCustomize.new(desviacion, cantidad, -1.0, -1.0,nil , -1)

matrixPruebas = matrixPrueba3.matrix +  matrixPrueba2.matrix +
                matrixPrueba1.matrix +  matrixPrueba4.matrix +
                csv_or.matrix

matrixPruebas.shuffle!
#csv_or.partition(matrixPruebas, 80,20)

entrenamiento.training(matrixPruebas)

pesos = entrenamiento.w
w1 =  entrenamiento.w.first
w2 =  entrenamiento.w.last

puts "la pendiente es: #{w1/w2}"
puts "la otra var. es: #{entrenamiento.umbral/w2}"
