#!/usr/bin/env ruby
$LOAD_PATH.unshift File.expand_path('../../lib', __FILE__)

require 'rbfSom'

puts "\n" + "*" * 80  + "\n" +
     " " * 20 + "Ejercicio 1" + " " * 20 + "\n" +
     "*" * 80 + "\n"

xor_path = 'xor.csv'
csv_xor = RbfSom::Csv.new(xor_path)

desviacion = 0.2
cantidad = 20
matrixPrueba1 = RbfSom::RandomCustomize.new(desviacion, cantidad, 1.0, 1.0,  nil, 1)
matrixPrueba2 = RbfSom::RandomCustomize.new(desviacion, cantidad, 1.0, -1.0, nil,  -1)
matrixPrueba3 = RbfSom::RandomCustomize.new(desviacion, cantidad, -1.0, 1.0, nil,  -1)
matrixPrueba4 = RbfSom::RandomCustomize.new(desviacion, cantidad, -1.0, -1.0,nil , 1)

patrones = matrixPrueba3.matrix +  matrixPrueba2.matrix +
                matrixPrueba1.matrix +  matrixPrueba4.matrix 

patrones.shuffle!

k = 4
rbfXor = RbfSom::Rbf.new(k, patrones, [4,1], 0.5)
rbfXor.calcular_centroides
rbfXor.entrenar

rbfXor.test(csv_xor.matrix)

p rbfXor.pesosSalida

#  iris   #


iris = 'iris.csv'
iris = RbfSom::Csv.new(iris)

patrones = iris.matrix.shuffle!

kIris = 3
iris = RbfSom::Rbf.new(3, patrones, [3,1], 0.5)
iris.calcular_centroides
iris.entrenar

p iris.pesosSalida
